# project_info_dialog.py - AyrÄ± component olarak

â€œâ€â€
Proje bilgileri alma dialogâ€™u
â€œâ€â€
import customtkinter as ctk
from tkinter import messagebox

class ProjectInfoDialog(ctk.CTkToplevel):
â€œâ€â€œProje bilgileri alma dialogâ€™uâ€â€â€

```
def __init__(self, parent, operation_no: str = "", part_no: str = ""):
    super().__init__(parent)
    
    # Dialog ayarlarÄ±
    self.title("Proje Bilgileri")
    self.geometry("450x350")
    self.resizable(False, False)
    self.transient(parent)
    self.grab_set()
    
    # DeÄŸiÅŸkenler
    self.result = None
    self.operation_no = operation_no
    self.part_no = part_no
    
    self.setup_ui()
    self.center_on_parent(parent)
    
def setup_ui(self):
    """Dialog UI'Ä±nÄ± oluÅŸtur"""
    # Ana frame
    main_frame = ctk.CTkFrame(self)
    main_frame.pack(fill="both", expand=True, padx=20, pady=20)
    
    # BaÅŸlÄ±k
    title_label = ctk.CTkLabel(
        main_frame,
        text="ğŸ“‹ Proje Bilgileri",
        font=ctk.CTkFont(size=20, weight="bold"),
        text_color="#4fc3f7"
    )
    title_label.pack(pady=(10, 20))
    
    # AÃ§Ä±klama
    desc_label = ctk.CTkLabel(
        main_frame,
        text="LÃ¼tfen aÅŸaÄŸÄ±daki bilgileri tamamlayÄ±n:",
        font=ctk.CTkFont(size=12),
        text_color="gray"
    )
    desc_label.pack(pady=(0, 15))
    
    # Dosyadan Ã§Ä±karÄ±lan bilgiler frame
    extracted_frame = ctk.CTkFrame(main_frame, fg_color="#2d3748")
    extracted_frame.pack(fill="x", padx=10, pady=(0, 20))
    
    extracted_title = ctk.CTkLabel(
        extracted_frame,
        text="ğŸ“ Dosyadan Ã‡Ä±karÄ±lan Bilgiler",
        font=ctk.CTkFont(size=14, weight="bold"),
        text_color="#81c784"
    )
    extracted_title.pack(pady=(15, 10))
    
    # Info frame iÃ§in grid
    info_grid = ctk.CTkFrame(extracted_frame, fg_color="transparent")
    info_grid.pack(padx=15, pady=(0, 15))
    
    # Part No
    part_label = ctk.CTkLabel(info_grid, text="Part No:", font=ctk.CTkFont(size=12, weight="bold"))
    part_label.grid(row=0, column=0, sticky="w", padx=(0, 10), pady=5)
    
    part_value = ctk.CTkLabel(
        info_grid, 
        text=self.part_no or "BelirtilmemiÅŸ",
        font=ctk.CTkFont(size=12),
        text_color="#ffb74d"
    )
    part_value.grid(row=0, column=1, sticky="w", pady=5)
    
    # Operation No
    op_label = ctk.CTkLabel(info_grid, text="Operation No:", font=ctk.CTkFont(size=12, weight="bold"))
    op_label.grid(row=1, column=0, sticky="w", padx=(0, 10), pady=5)
    
    op_value = ctk.CTkLabel(
        info_grid,
        text=self.operation_no or "BelirtilmemiÅŸ",
        font=ctk.CTkFont(size=12),
        text_color="#ffb74d"
    )
    op_value.grid(row=1, column=1, sticky="w", pady=5)
    
    # KullanÄ±cÄ± giriÅŸi frame
    input_frame = ctk.CTkFrame(main_frame, fg_color="#37474f")
    input_frame.pack(fill="x", padx=10, pady=(0, 20))
    
    input_title = ctk.CTkLabel(
        input_frame,
        text="âœï¸ LÃ¼tfen AÅŸaÄŸÄ±daki Bilgileri Girin",
        font=ctk.CTkFont(size=14, weight="bold"),
        text_color="#f48fb1"
    )
    input_title.pack(pady=(15, 15))
    
    # Seri No giriÅŸi
    serial_label = ctk.CTkLabel(
        input_frame, 
        text="Seri No:",
        font=ctk.CTkFont(size=12, weight="bold")
    )
    serial_label.pack(anchor="w", padx=20, pady=(0, 5))
    
    self.serial_entry = ctk.CTkEntry(
        input_frame,
        placeholder_text="Ã–rnek: S001, S002, SN001, ...",
        width=350,
        height=35,
        font=ctk.CTkFont(size=12)
    )
    self.serial_entry.pack(pady=(0, 15), padx=20)
    
    # Proje giriÅŸi
    project_label = ctk.CTkLabel(
        input_frame, 
        text="Proje:",
        font=ctk.CTkFont(size=12, weight="bold")
    )
    project_label.pack(anchor="w", padx=20, pady=(0, 5))
    
    self.project_entry = ctk.CTkEntry(
        input_frame,
        placeholder_text="Ã–rnek: Proje A, Test Projesi, BMW E90, ...",
        width=350,
        height=35,
        font=ctk.CTkFont(size=12)
    )
    self.project_entry.pack(pady=(0, 20), padx=20)
    
    # Butonlar frame
    button_frame = ctk.CTkFrame(main_frame, fg_color="transparent")
    button_frame.pack(pady=(10, 0))
    
    # Ä°ptal butonu
    cancel_btn = ctk.CTkButton(
        button_frame,
        text="âŒ Ä°ptal",
        command=self.cancel,
        width=120,
        height=35,
        fg_color="#f44336",
        hover_color="#d32f2f",
        font=ctk.CTkFont(size=12, weight="bold")
    )
    cancel_btn.pack(side="left", padx=10)
    
    # Tamam butonu
    ok_btn = ctk.CTkButton(
        button_frame,
        text="âœ… Tamam",
        command=self.ok,
        width=120,
        height=35,
        fg_color="#4caf50",
        hover_color="#388e3c",
        font=ctk.CTkFont(size=12, weight="bold")
    )
    ok_btn.pack(side="left", padx=10)
    
    # Klavye kÄ±sayollarÄ±
    self.bind('<Return>', lambda e: self.ok())
    self.bind('<Escape>', lambda e: self.cancel())
    
    # Ä°lk entry'e focus
    self.serial_entry.focus()
    
def center_on_parent(self, parent):
    """Dialog'u parent'Ä±n ortasÄ±na yerleÅŸtir"""
    parent.update_idletasks()
    
    parent_x = parent.winfo_x()
    parent_y = parent.winfo_y()
    parent_width = parent.winfo_width()
    parent_height = parent.winfo_height()
    
    dialog_width = 450
    dialog_height = 350
    
    x = parent_x + (parent_width - dialog_width) // 2
    y = parent_y + (parent_height - dialog_height) // 2
    
    self.geometry(f"{dialog_width}x{dialog_height}+{x}+{y}")

def ok(self):
    """Tamam butonuna tÄ±klandÄ±ÄŸÄ±nda"""
    serial_no = self.serial_entry.get().strip()
    project = self.project_entry.get().strip()
    
    # Validasyon
    if not serial_no:
        messagebox.showwarning("UyarÄ±", "Seri No boÅŸ bÄ±rakÄ±lamaz!")
        self.serial_entry.focus()
        return
        
    if not project:
        messagebox.showwarning("UyarÄ±", "Proje bilgisi boÅŸ bÄ±rakÄ±lamaz!")
        self.project_entry.focus()
        return
    
    # GeÃ§ersiz karakterleri kontrol et
    invalid_chars = ['<', '>', ':', '"', '|', '?', '*', '/', '\\']
    for char in invalid_chars:
        if char in serial_no or char in project:
            messagebox.showwarning(
                "UyarÄ±", 
                f"GeÃ§ersiz karakter '{char}' kullanÄ±lamaz!\nKlasÃ¶r adlarÄ±nda kullanÄ±lamayan karakterler: < > : \" | ? * / \\"
            )
            return
    
    # SonuÃ§ oluÅŸtur
    self.result = {
        'serial_no': serial_no,
        'project': project,
        'operation_no': self.operation_no,
        'part_no': self.part_no
    }
    
    self.destroy()

def cancel(self):
    """Ä°ptal butonuna tÄ±klandÄ±ÄŸÄ±nda"""
    self.result = None
    self.destroy()
```

# Test fonksiyonu

def test_dialog():
â€œâ€â€œDialogâ€™u test etâ€â€â€
import customtkinter as ctk

```
ctk.set_appearance_mode("dark")
ctk.set_default_color_theme("blue")

root = ctk.CTk()
root.geometry("600x400")
root.title("Dialog Test")

def show_dialog():
    dialog = ProjectInfoDialog(root, operation_no="OP10", part_no="TestPart")
    root.wait_window(dialog)
    
    if dialog.result:
        result_text = f"""
```

Dialog Sonucu:

- Seri No: {dialog.result[â€˜serial_noâ€™]}
- Proje: {dialog.result[â€˜projectâ€™]}
- Operation No: {dialog.result[â€˜operation_noâ€™]}
- Part No: {dialog.result[â€˜part_noâ€™]}
  â€œâ€â€
  messagebox.showinfo(â€œSonuÃ§â€, result_text)
  else:
  messagebox.showinfo(â€œSonuÃ§â€, â€œDialog iptal edildiâ€)
  
  test_btn = ctk.CTkButton(root, text=â€œDialogâ€™u AÃ§â€, command=show_dialog)
  test_btn.pack(expand=True)
  
  root.mainloop()

if **name** == â€œ**main**â€:
test_dialog()
